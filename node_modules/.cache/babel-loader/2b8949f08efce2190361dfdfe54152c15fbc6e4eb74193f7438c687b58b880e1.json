{"ast":null,"code":"import { ref, onMounted } from \"vue\";\nexport default {\n  name: \"HelloWorld\",\n  props: {},\n  setup() {\n    const response = ref(\"\");\n    var blueEnv = ref(0);\n    const greenEnv = ref(0);\n    function fetchData() {\n      return fetch(\"http://devoxx2023.dev.k8s.signalocean.com/ServiceBusCount\", {\n        cache: 'no-cache'\n      }).then(async res => {\n        console.log(res);\n        var textValue = await res.json();\n        if (textValue.environment == \"blue\") {\n          blueEnv = textValue.queueMessagesProccessed;\n        }\n        if (textValue.environment == \"green\") {\n          greenEnv.value++;\n        }\n      }).catch(err => {\n        throw err;\n      });\n    }\n    onMounted(() => {\n      setInterval(() => fetchData(), 10000);\n    });\n    return {\n      blueEnv,\n      greenEnv,\n      response\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","name","props","setup","response","blueEnv","greenEnv","fetchData","fetch","cache","then","res","console","log","textValue","json","environment","queueMessagesProccessed","value","catch","err","setInterval"],"sources":["C:\\Projects\\Devoxx2023\\UI\\src\\components\\HelloWorld.vue"],"sourcesContent":["\n<template>\n\t<html lang=\"en\">\n\t<div class=\"squares\">\n\t\t<div class=\"squareGreen\">\n\t\t\t<p style=\"font-size:50px; color:aliceblue\">{{ greenEnv }}</p>\n\t\t</div>\n\t\t<div class=\"squareBlue\">\n\t\t\t<p style=\"font-size:50px; color:aliceblue\">{{ blueEnv }}</p>\n\t\t</div>\n\t</div>\n\n\t</html>\n</template>\n\n \n<script>\nimport { ref, onMounted } from \"vue\";\n\nexport default {\n\tname: \"HelloWorld\",\n\tprops: {},\n\tsetup() {\n\t\tconst response = ref(\"\");\n\t\tvar blueEnv = ref(0);\n\t\tconst greenEnv = ref(0); \n\n\t\tfunction fetchData() {\n\t\t\treturn fetch(\n\t\t\t\t\"http://devoxx2023.dev.k8s.signalocean.com/ServiceBusCount\",{cache: 'no-cache'}\n\t\t\t)\n\t\t\t\t.then(async (res) => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tvar textValue = await res.json();\n\t\t\t\t\tif (textValue.environment == \"blue\") {\n\t\t\t\t\t\tblueEnv = textValue.queueMessagesProccessed;\n\t\t\t\t\t}\n\t\t\t\t\tif (textValue.environment == \"green\") {\n\t\t\t\t\t\tgreenEnv.value++;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tthrow err;\n\t\t\t\t});\n\t\t}\n\n\t\tonMounted(() => {\n\t\t\tsetInterval(() => fetchData(), 10000);\n\t\t});\n\n\t\treturn {\n\t\t\tblueEnv,\n\t\t\tgreenEnv,\n\t\t\tresponse, \n\t\t};\n\t},\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.squares {\n\tdisplay: flex;\n\tjustify-content: center;\n}\n\n.squareGreen {\n\ttext-align: center;\n\tdisplay: inline-block;\n\theight: 150px;\n\twidth: 150px;\n\tbackground-color: #008000;\n\tmargin-right: 5%;\n\tborder-style: ridge;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.squareBlue {\n\ttext-align: center;\n\tdisplay: inline-block;\n\theight: 150px;\n\twidth: 150px;\n\tbackground-color: #0000FF;\n\tdisplay: flex;\n\tborder-style: ridge;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n}\n</style>\n"],"mappings":"AAiBA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAK;AAEpC,eAAe;EACdC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE,CAAC,CAAC;EACTC,KAAKA,CAAA,EAAG;IACP,MAAMC,QAAO,GAAIL,GAAG,CAAC,EAAE,CAAC;IACxB,IAAIM,OAAM,GAAIN,GAAG,CAAC,CAAC,CAAC;IACpB,MAAMO,QAAO,GAAIP,GAAG,CAAC,CAAC,CAAC;IAEvB,SAASQ,SAASA,CAAA,EAAG;MACpB,OAAOC,KAAK,CACX,2DAA2D,EAAC;QAACC,KAAK,EAAE;MAAU,EAC/E,CACEC,IAAI,CAAC,MAAOC,GAAG,IAAK;QACpBC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAChB,IAAIG,SAAQ,GAAI,MAAMH,GAAG,CAACI,IAAI,EAAE;QAChC,IAAID,SAAS,CAACE,WAAU,IAAK,MAAM,EAAE;UACpCX,OAAM,GAAIS,SAAS,CAACG,uBAAuB;QAC5C;QACA,IAAIH,SAAS,CAACE,WAAU,IAAK,OAAO,EAAE;UACrCV,QAAQ,CAACY,KAAK,EAAE;QACjB;MACD,CAAC,EACAC,KAAK,CAAEC,GAAG,IAAK;QACf,MAAMA,GAAG;MACV,CAAC,CAAC;IACJ;IAEApB,SAAS,CAAC,MAAM;MACfqB,WAAW,CAAC,MAAMd,SAAS,EAAE,EAAE,KAAK,CAAC;IACtC,CAAC,CAAC;IAEF,OAAO;MACNF,OAAO;MACPC,QAAQ;MACRF;IACD,CAAC;EACF;AACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}