{"ast":null,"code":"import { ref, onMounted } from \"vue\";\nexport default {\n  name: \"HelloWorld\",\n  props: {},\n  setup() {\n    const response = ref(\"\");\n    const blueEnv = ref(0);\n    const greenEnv = ref(0);\n    let count = 0;\n    function fetchData() {\n      // I prefer to use fetch\n      // you can use use axios as an alternative\n      return fetch(\"http://devoxx2023.dev.k8s.signalocean.com/GetEnvironment\").then(async res => {\n        var textValue = await res.text();\n        if (textValue == \"You are in Environment: blue\") {\n          blueEnv.value++;\n        }\n        if (textValue == \"You are in Environment: green\") {\n          greenEnv.value++;\n        }\n        if (count > 60) {\n          count = 0;\n        }\n        count++;\n      }).catch(err => {\n        throw err;\n      });\n    }\n    onMounted(() => {\n      setInterval(() => fetchData(), 1200);\n    });\n    return {\n      blueEnv,\n      greenEnv,\n      response,\n      count\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","name","props","setup","response","blueEnv","greenEnv","count","fetchData","fetch","then","res","textValue","text","value","catch","err","setInterval"],"sources":["C:\\Projects\\Devoxx2023\\hello-world\\src\\components\\HelloWorld.vue"],"sourcesContent":["\n<template>\n\t<html lang=\"en\">\n\t<div class=\"squares\">\n\t\t<div class=\"squareGreen\">\n\t\t\t<p style=\"font-size:50px; color:aliceblue\">{{ greenEnv }}</p>\n\t\t</div>\n\t\t<div class=\"squareBlue\">\n\t\t\t<p style=\"font-size:50px; color:aliceblue\">{{ blueEnv }}</p>\n\t\t</div>\n\t</div>\n\n\t</html>\n</template>\n\n \n<script>\nimport { ref, onMounted } from \"vue\";\n\nexport default {\n\tname: \"HelloWorld\",\n\tprops: {},\n\tsetup() {\n\t\tconst response = ref(\"\");\n\t\tconst blueEnv = ref(0);\n\t\tconst greenEnv = ref(0);\n\t\tlet count = 0;\n\n\t\tfunction fetchData() {\n\t\t\t// I prefer to use fetch\n\t\t\t// you can use use axios as an alternative\n\t\t\treturn fetch(\n\t\t\t\t\"http://devoxx2023.dev.k8s.signalocean.com/GetEnvironment\"\n\t\t\t)\n\t\t\t\t.then(async (res) => {\n\t\t\t\t\tvar textValue = await res.text();\n\t\t\t\t\tif (textValue == \"You are in Environment: blue\") {\n\t\t\t\t\t\tblueEnv.value++;\n\t\t\t\t\t}\n\t\t\t\t\tif (textValue == \"You are in Environment: green\") {\n\t\t\t\t\t\tgreenEnv.value++;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (count > 60) {\n\t\t\t\t\t\tcount = 0;\n\t\t\t\t\t}\n\t\t\t\t\tcount++;\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tthrow err;\n\t\t\t\t});\n\t\t}\n\n\t\tonMounted(() => {\n\t\t\tsetInterval(() => fetchData(), 1200);\n\t\t});\n\n\t\treturn {\n\t\t\tblueEnv,\n\t\t\tgreenEnv,\n\t\t\tresponse,\n\t\t\tcount,\n\t\t};\n\t},\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.squares {\n\tdisplay: flex;\n\tjustify-content: center;\n}\n\n.squareGreen {\n\ttext-align: center;\n\tdisplay: inline-block;\n\theight: 150px;\n\twidth: 150px;\n\tbackground-color: #008000;\n\tmargin-right: 5%;\n\tborder-style: ridge;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.squareBlue {\n\ttext-align: center;\n\tdisplay: inline-block;\n\theight: 150px;\n\twidth: 150px;\n\tbackground-color: #0000FF;\n\tdisplay: flex;\n\tborder-style: ridge;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n}\n</style>\n"],"mappings":"AAiBA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAK;AAEpC,eAAe;EACdC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE,CAAC,CAAC;EACTC,KAAKA,CAAA,EAAG;IACP,MAAMC,QAAO,GAAIL,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMM,OAAM,GAAIN,GAAG,CAAC,CAAC,CAAC;IACtB,MAAMO,QAAO,GAAIP,GAAG,CAAC,CAAC,CAAC;IACvB,IAAIQ,KAAI,GAAI,CAAC;IAEb,SAASC,SAASA,CAAA,EAAG;MACpB;MACA;MACA,OAAOC,KAAK,CACX,0DAAyD,CAC1D,CACEC,IAAI,CAAC,MAAOC,GAAG,IAAK;QACpB,IAAIC,SAAQ,GAAI,MAAMD,GAAG,CAACE,IAAI,EAAE;QAChC,IAAID,SAAQ,IAAK,8BAA8B,EAAE;UAChDP,OAAO,CAACS,KAAK,EAAE;QAChB;QACA,IAAIF,SAAQ,IAAK,+BAA+B,EAAE;UACjDN,QAAQ,CAACQ,KAAK,EAAE;QACjB;QAEA,IAAIP,KAAI,GAAI,EAAE,EAAE;UACfA,KAAI,GAAI,CAAC;QACV;QACAA,KAAK,EAAE;MACR,CAAC,EACAQ,KAAK,CAAEC,GAAG,IAAK;QACf,MAAMA,GAAG;MACV,CAAC,CAAC;IACJ;IAEAhB,SAAS,CAAC,MAAM;MACfiB,WAAW,CAAC,MAAMT,SAAS,EAAE,EAAE,IAAI,CAAC;IACrC,CAAC,CAAC;IAEF,OAAO;MACNH,OAAO;MACPC,QAAQ;MACRF,QAAQ;MACRG;IACD,CAAC;EACF;AACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}