{"ast":null,"code":"import { ref, computed, onMounted } from \"vue\";\nexport default {\n  name: \"HelloWorld\",\n  props: {},\n  setup() {\n    const response = ref(\"\");\n    const featureACount = ref(0);\n    const featureBCount = ref(0);\n    let count = 0;\n    function fetchData() {\n      // I prefer to use fetch\n      // you can use use axios as an alternative\n      return fetch(\"https://ndcsample.azurewebsites.net/featuredemo/feature\").then(async res => {\n        response.value = await res.text();\n        if (response.value.indexOf(\"feature A\") > -1) {\n          featureACount.value++;\n        }\n        if (response.value.indexOf(\"feature B\") > -1) {\n          featureBCount.value++;\n        }\n        // console.log(`response is ${response.value} - featureACount: ${featureACount.value}, featureB Count: ${featureBCount.value}`);\n        if (count > 60) {\n          count = 0;\n        }\n        count++;\n      }).catch(err => {\n        throw err;\n      });\n    }\n    onMounted(() => {\n      setInterval(() => fetchData(), 300);\n    });\n    return {\n      featureACount,\n      featureBCount,\n      response,\n      count\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","name","props","setup","response","featureACount","featureBCount","count","fetchData","fetch","then","res","value","text","indexOf","catch","err","setInterval"],"sources":["C:\\Projects\\Devoxx2023\\hello-world\\src\\components\\HelloWorld.vue"],"sourcesContent":["<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <p>\n      For a guide and recipes on how to configure / customize this project,<br>\n      check out the\n      <a href=\"https://cli.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-cli documentation</a>.\n    </p>\n    <h3>Installed CLI Plugins</h3>\n    <ul>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel\" target=\"_blank\" rel=\"noopener\">babel</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint\" target=\"_blank\" rel=\"noopener\">eslint</a></li>\n    </ul>\n    <h3>Essential Links</h3>\n    <ul>\n      <li><a href=\"https://vuejs.org\" target=\"_blank\" rel=\"noopener\">Core Docs</a></li>\n      <li><a href=\"https://forum.vuejs.org\" target=\"_blank\" rel=\"noopener\">Forum</a></li>\n      <li><a href=\"https://chat.vuejs.org\" target=\"_blank\" rel=\"noopener\">Community Chat</a></li>\n      <li><a href=\"https://twitter.com/vuejs\" target=\"_blank\" rel=\"noopener\">Twitter</a></li>\n      <li><a href=\"https://news.vuejs.org\" target=\"_blank\" rel=\"noopener\">News</a></li>\n    </ul>\n    <h3>Ecosystem</h3>\n    <ul>\n      <li><a href=\"https://router.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-router</a></li>\n      <li><a href=\"https://vuex.vuejs.org\" target=\"_blank\" rel=\"noopener\">vuex</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-devtools#vue-devtools\" target=\"_blank\" rel=\"noopener\">vue-devtools</a></li>\n      <li><a href=\"https://vue-loader.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-loader</a></li>\n      <li><a href=\"https://github.com/vuejs/awesome-vue\" target=\"_blank\" rel=\"noopener\">awesome-vue</a></li>\n    </ul>\n  </div>\n</template>\n\n \n<script>\nimport { ref, computed, onMounted } from \"vue\";\n\nexport default {\n\tname: \"HelloWorld\",\n\tprops: {},\n\tsetup() {\n\t\tconst response = ref(\"\");\n\t\tconst featureACount = ref(0);\n\t\tconst featureBCount = ref(0);\n\t\tlet count = 0;\n\n\t\tfunction fetchData() {\n\t\t\t// I prefer to use fetch\n\t\t\t// you can use use axios as an alternative\n\t\t\treturn fetch(\n\t\t\t\t\"https://ndcsample.azurewebsites.net/featuredemo/feature\"\n\t\t\t)\n\t\t\t\t.then(async (res) => {\n\t\t\t\t\tresponse.value = await res.text();\n\t\t\t\t\tif (response.value.indexOf(\"feature A\") > -1) {\n\t\t\t\t\t\tfeatureACount.value++;\n\t\t\t\t\t}\n\t\t\t\t\tif (response.value.indexOf(\"feature B\") > -1) {\n\t\t\t\t\t\tfeatureBCount.value++;\n\t\t\t\t\t}\n\t\t\t\t\t// console.log(`response is ${response.value} - featureACount: ${featureACount.value}, featureB Count: ${featureBCount.value}`);\n\t\t\t\t\tif (count > 60) {\n\t\t\t\t\t\tcount = 0;\n\t\t\t\t\t}\n\t\t\t\t\tcount++;\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tthrow err;\n\t\t\t\t});\n\t\t}\n\n\t\tonMounted(() => {\n\t\t\tsetInterval(() => fetchData(), 300);\n\t\t});\n\n\t\treturn {\n\t\t\tfeatureACount,\n\t\t\tfeatureBCount,\n\t\t\tresponse,\n\t\t\tcount,\n\t\t};\n\t},\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"],"mappings":"AAkCA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAQ,QAAS,KAAK;AAE9C,eAAe;EACdC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE,CAAC,CAAC;EACTC,KAAKA,CAAA,EAAG;IACP,MAAMC,QAAO,GAAIN,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMO,aAAY,GAAIP,GAAG,CAAC,CAAC,CAAC;IAC5B,MAAMQ,aAAY,GAAIR,GAAG,CAAC,CAAC,CAAC;IAC5B,IAAIS,KAAI,GAAI,CAAC;IAEb,SAASC,SAASA,CAAA,EAAG;MACpB;MACA;MACA,OAAOC,KAAK,CACX,yDAAwD,CACzD,CACEC,IAAI,CAAC,MAAOC,GAAG,IAAK;QACpBP,QAAQ,CAACQ,KAAI,GAAI,MAAMD,GAAG,CAACE,IAAI,EAAE;QACjC,IAAIT,QAAQ,CAACQ,KAAK,CAACE,OAAO,CAAC,WAAW,IAAI,CAAC,CAAC,EAAE;UAC7CT,aAAa,CAACO,KAAK,EAAE;QACtB;QACA,IAAIR,QAAQ,CAACQ,KAAK,CAACE,OAAO,CAAC,WAAW,IAAI,CAAC,CAAC,EAAE;UAC7CR,aAAa,CAACM,KAAK,EAAE;QACtB;QACA;QACA,IAAIL,KAAI,GAAI,EAAE,EAAE;UACfA,KAAI,GAAI,CAAC;QACV;QACAA,KAAK,EAAE;MACR,CAAC,EACAQ,KAAK,CAAEC,GAAG,IAAK;QACf,MAAMA,GAAG;MACV,CAAC,CAAC;IACJ;IAEAhB,SAAS,CAAC,MAAM;MACfiB,WAAW,CAAC,MAAMT,SAAS,EAAE,EAAE,GAAG,CAAC;IACpC,CAAC,CAAC;IAEF,OAAO;MACNH,aAAa;MACbC,aAAa;MACbF,QAAQ;MACRG;IACD,CAAC;EACF;AACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}